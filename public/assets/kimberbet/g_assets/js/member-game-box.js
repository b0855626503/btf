var member_game_box={template:`<div class="sub-page h-100" :class="{ 'fullscreen': $root.fullscreen, 'ios': $root.device.is_ios }">
    <div class="h-100" style="display: flex; flex-direction: column;">
        <div v-if="cheat_on" class="cheat-wrapper"><iframe id="cheat-ai" :src="'/g_assets/cheat-ai.html?gid='+$root.next_meta.gid" class="w-100" scrolling="no" frameborder="0"></iframe></div>
        <iframe :src="url" class="game-frame border-0 w-100" style="height: 100%; flex: 1" :class="{ 'fullscreen': $root.fullscreen, 'sport' : $root.currentPlay === 'sport','ios' : $root.device.is_ios  }"></iframe>
        <button type="button" class="btn-trigger-showmenu" @click="showNav">
            <img :src="member_style.member_backtomenu_icon" alt="showmenu-game">
        </button>
    </div>
</div>`,data(){return{url:'',cheat_on:false,}},methods:{enter(){setTimeout(()=>{$(".game-frame").scrollTop(0)},500)},showNav(){this.$root.showNavInGame=!this.$root.showNavInGame;},updatePerc(perc){document.getElementById('cheat-ai').contentDocument.getElementById('perc').innerHTML=perc;}},computed:{},watch:{selected_ip(val){this.cmd='';},'filter.group'(val){console.log('chchc',val);}},beforeRouteEnter(to,from,next){next(async $this=>{if(!$this.$root.next_game)return $this.$root.$router.replace({name:'member'});$this.url=$this.$root.next_game;$this.enter();if($this.$root.next_meta.soot){$this.cheat_on=true;}
if($this.$root.currentPlay==='sport'&&$this.$root.device.is_mobile){$this.$root.loading=true;let url=new URL($this.url);setTimeout(()=>{$this.url=url.origin+'/sports/amb/football/live/';$this.$root.loading=false;},5000)}
next();})},beforeRouteLeave(to,from,next){this.$root.fullscreen=false;this.$root.showNavInGame=false;this.$root.credit='รอปรับยอด...';let $this=this;setTimeout(()=>{$this.$root.easy.callApi('credit_req');},15000);this.$destroy();next();},created(){let $this=this;},mounted(){let $draggable=$('.btn-trigger-showmenu').draggabilly({containment:true}).on('dragEnd',function(event,pointer){var w=window.innerWidth,h=window.innerHeight;var x=pointer?pointer.pageX:$(this).position().left;$(this).css({'transition':'0.2s ease-out'}).delay(200).queue(function(next){$(this).css({'transition':''});next();});if(x<w/2){$(this).draggabilly('setPosition',-10);}else{$(this).draggabilly('setPosition',(w-$(this).width())+10);}
if(h<$(this).position().top){$(this).draggabilly('setPosition',undefined,h-$(this).height());}}).on('staticClick',function(){}).on('pointerDown',function(event,pointer){}).on('pointerUp',function(event,pointer){});if(typeof removeA2H==='function'){removeA2H();}}};